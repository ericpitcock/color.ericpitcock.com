var Color={colors:{red:[],orange:[],yellow:[],green:[],blue:[],purple:[],pink:[],grayscale:["#000000","#303030","#616161","#919191","#C2C2C2","#F2F2F2"]},currentPalette:"palette-1",palettes:{"palette-1":[],"palette-2":[],"palette-3":[],"palette-4":[],"palette-5":[],"palette-6":[]},generateColors:function(t){for(var e in t){if("grayscale"==e)return!0;Color.colors[e]=randomColor({hue:e,luminosity:"bright",count:12})}},createSwatches:function(t){for(var e in t)for(var a in t[e])$("#"+e).append('<div class="swatch '+e+'" data-swatch-color="'+t[e][a]+'" style="background-color: '+t[e][a]+'"></div>')},clearPalette:function(){var t=Color.currentPalette;Color.palettes[t]=[],$(".palettes .active").empty(),$(".in-"+t).removeClass("in-"+t).hide().show(0).find("span."+t).remove(),Color.paletteCheck()},handlePaletteSwitch:function(t){Color.currentPalette=$(t.target).attr("data-target").replace("#",""),Color.paletteCheck()},handleSwatchClick:function(t){var e=$(this),a=e.data("swatch-color"),o=Color.currentPalette,l=Color.palettes[o];if($(t.target).parent().hasClass("tab-pane"))e.hasClass("in-"+o)||(e.clone(!0).empty().appendTo(".palettes .active"),e.addClass("in-"+o),l.push(a));else if($(t.target).parents().hasClass("palettes")){$(".tab-pane").children('*[data-swatch-color="'+a+'"]').removeClass("in-"+Color.currentPalette);var r=l.indexOf(a);-1!=r&&l.splice(r,1),e.remove()}Color.paletteCheck()},paletteCheck:function(){var t=Color.palettes[Color.currentPalette],e=$('.palette-tabs .active a[data-target="#'+Color.currentPalette+'"]'),a=$(".palette-control button"),o=$(".palettes p");t.length>0?(e.addClass("has-swatches"),a.removeClass("disabled"),o.hide()):0===t.length&&(e.removeClass("has-swatches"),a.addClass("disabled"),o.show())},clipboardNotification:function(){$(".clipboard-notification").fadeIn().delay(2e3).fadeOut("slow")},initialize:function(){"ontouchstart"in document.documentElement||(document.documentElement.className+="no-touch"),Color.generateColors(Color.colors),Color.createSwatches(Color.colors),$('ul.color-sets li a[data-toggle="tab"]').on("shown.bs.tab",function(t){window.scrollTo(0,0)}),$(".swatch").on("click",Color.handleSwatchClick),$(".clear-palette").on("click",Color.clearPalette),$(".add-color-set").on("click",Color.addColorSet),$(".palette-tabs").on("click","li a:not(.add-palette)",Color.handlePaletteSwitch),$("h1").click(function(){$(".about-overlay").fadeIn()}),$(".about-overlay").click(function(t){t.target===this&&$(this).fadeOut()}),$(function(){FastClick.attach(document.body)}),$(".palettes > div").sortable({containment:".palettes",opacity:.5,tolerance:"pointer"})}};$(document).ready(function(){Color.initialize()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbG9yLmpzIl0sIm5hbWVzIjpbIkNvbG9yIiwiY29sb3JzIiwicmVkIiwib3JhbmdlIiwieWVsbG93IiwiZ3JlZW4iLCJibHVlIiwicHVycGxlIiwicGluayIsImdyYXlzY2FsZSIsImN1cnJlbnRQYWxldHRlIiwicGFsZXR0ZXMiLCJwYWxldHRlLTEiLCJwYWxldHRlLTIiLCJwYWxldHRlLTMiLCJwYWxldHRlLTQiLCJwYWxldHRlLTUiLCJwYWxldHRlLTYiLCJnZW5lcmF0ZUNvbG9ycyIsIm9iamVjdCIsImh1ZSIsInJhbmRvbUNvbG9yIiwibHVtaW5vc2l0eSIsImNvdW50IiwiY3JlYXRlU3dhdGNoZXMiLCJ2YWx1ZSIsIiQiLCJhcHBlbmQiLCJjbGVhclBhbGV0dGUiLCJlbXB0eSIsInJlbW92ZUNsYXNzIiwiaGlkZSIsInNob3ciLCJmaW5kIiwicmVtb3ZlIiwicGFsZXR0ZUNoZWNrIiwiaGFuZGxlUGFsZXR0ZVN3aXRjaCIsImUiLCJ0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsImhhbmRsZVN3YXRjaENsaWNrIiwiJHRoaXMiLCJ0aGlzIiwiY29sb3IiLCJkYXRhIiwicGFsZXR0ZSIsInBhcmVudCIsImhhc0NsYXNzIiwiY2xvbmUiLCJhcHBlbmRUbyIsImFkZENsYXNzIiwicHVzaCIsInBhcmVudHMiLCJjaGlsZHJlbiIsImkiLCJpbmRleE9mIiwic3BsaWNlIiwiJGFjdGl2ZVBhbGV0dGVUYWIiLCIkcGFsZXR0ZUNvbnRyb2xzQnV0dG9ucyIsIiRhZGRTd2F0Y2hlc05vdGlmaWNhdGlvbiIsImxlbmd0aCIsImNsaXBib2FyZE5vdGlmaWNhdGlvbiIsImZhZGVJbiIsImRlbGF5IiwiZmFkZU91dCIsImluaXRpYWxpemUiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTmFtZSIsIm9uIiwid2luZG93Iiwic2Nyb2xsVG8iLCJhZGRDb2xvclNldCIsImNsaWNrIiwiRmFzdENsaWNrIiwiYXR0YWNoIiwiYm9keSIsInNvcnRhYmxl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TUFBQXlFLGFBR0EvQyxFQUFBLGlCQUFBNEMsR0FBQSxRQUFBLHlCQUFBdEUsTUFBQW9DLHFCQUdBVixFQUFBLE1BQUFnRCxNQUFBLFdBQ0FoRCxFQUFBLGtCQUFBcUMsV0FHQXJDLEVBQUEsa0JBQUFnRCxNQUFBLFNBQUFyQyxHQUNBQSxFQUFBQyxTQUFBSyxNQUdBakIsRUFBQWlCLE1BQUFzQixZQUtBdkMsRUFBQSxXQUNBaUQsVUFBQUMsT0FBQVQsU0FBQVUsUUFJQW5ELEVBQUEsbUJBQUFvRCxVQUNBQyxZQUFBLFlBQ0FDLFFBQUEsR0FDQUMsVUFBQSxhQVFBdkQsR0FBQXlDLFVBQUFlLE1BQUEsV0FBQWxGLE1BQUFrRSIsImZpbGUiOiJjb2xvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gQ09MT1IgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbnZhciBDb2xvciA9IHtcblxuICAgIGNvbG9yczoge1xuICAgICAgICAncmVkJzogW10sXG4gICAgICAgICdvcmFuZ2UnOiBbXSxcbiAgICAgICAgJ3llbGxvdyc6IFtdLFxuICAgICAgICAnZ3JlZW4nOiBbXSxcbiAgICAgICAgJ2JsdWUnOiBbXSxcbiAgICAgICAgJ3B1cnBsZSc6IFtdLFxuICAgICAgICAncGluayc6IFtdLFxuICAgICAgICAnZ3JheXNjYWxlJzogW1xuICAgICAgICAgICAgJyMwMDAwMDAnLFxuICAgICAgICAgICAgJyMzMDMwMzAnLFxuICAgICAgICBcdCcjNjE2MTYxJyxcbiAgICAgICAgXHQnIzkxOTE5MScsXG4gICAgICAgIFx0JyNDMkMyQzInLFxuICAgICAgICBcdCcjRjJGMkYyJ1xuICAgICAgICBdXG4gICAgfSxcbiAgICBjdXJyZW50UGFsZXR0ZTogJ3BhbGV0dGUtMScsXG4gICAgcGFsZXR0ZXM6IHtcbiAgICAgICAgJ3BhbGV0dGUtMSc6IFtdLFxuICAgICAgICAncGFsZXR0ZS0yJzogW10sXG4gICAgICAgICdwYWxldHRlLTMnOiBbXSxcbiAgICAgICAgJ3BhbGV0dGUtNCc6IFtdLFxuICAgICAgICAncGFsZXR0ZS01JzogW10sXG4gICAgICAgICdwYWxldHRlLTYnOiBbXVxuICAgIH0sXG5cbiAgICBnZW5lcmF0ZUNvbG9yczogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIC8vIGZvciBlYWNoIGh1ZSwgcG9wdWxhdGUgaXRzIGFycmF5IHdpdGggcmFuZG9tIHZhbHVlc1xuICAgICAgICBmb3IgKHZhciBodWUgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAvLyBza2lwIGdyYXlzY2FsZSBzaW5jZSBpdCdzIGFscmVhZHkgZGVmaW5lZFxuICAgICAgICAgICAgaWYgKGh1ZSA9PSAnZ3JheXNjYWxlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwb3B1bGF0ZSB0aGUgYXJyYXkgd2l0aCByYW5kb20gY29sb3JzXG4gICAgICAgICAgICBDb2xvci5jb2xvcnNbaHVlXSA9IHJhbmRvbUNvbG9yKHtcbiAgICAgICAgICAgICAgICBodWU6IGh1ZSxcbiAgICAgICAgICAgICAgICBsdW1pbm9zaXR5OiAnYnJpZ2h0JyxcbiAgICAgICAgICAgICAgICBjb3VudDogMTJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVN3YXRjaGVzOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IGtleSAoaHVlKSBpbiB0aGUgb2JqZWN0XG4gICAgICAgIGZvciAodmFyIGh1ZSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIC8vIGZvciBldmVyeSB2YWx1ZSBpbiBlYWNoIGh1ZVxuICAgICAgICAgICAgZm9yICh2YXIgdmFsdWUgaW4gb2JqZWN0W2h1ZV0pIHtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGh1ZSkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic3dhdGNoICcgKyBodWUgKyAnXCIgZGF0YS1zd2F0Y2gtY29sb3I9XCInICsgb2JqZWN0W2h1ZV1bdmFsdWVdICsgJ1wiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogJyArIG9iamVjdFtodWVdW3ZhbHVlXSArICdcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjbGVhclBhbGV0dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3VycmVudFBhbGV0dGUgPSBDb2xvci5jdXJyZW50UGFsZXR0ZTtcblxuICAgICAgICAvLyBjbGVhciBhcnJheVxuICAgICAgICBDb2xvci5wYWxldHRlc1tjdXJyZW50UGFsZXR0ZV0gPSBbXTtcblxuICAgICAgICAvLyByZW1vdmUgc3dhdGNoZXNcbiAgICAgICAgJCgnLnBhbGV0dGVzIC5hY3RpdmUnKS5lbXB0eSgpO1xuXG4gICAgICAgIC8vIGNsZWFyIGluZGljYXRvcnNcbiAgICAgICAgJCgnLmluLScgKyBjdXJyZW50UGFsZXR0ZSlcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaW4tJyArIGN1cnJlbnRQYWxldHRlKVxuICAgICAgICAgICAgLmhpZGUoKVxuICAgICAgICAgICAgLnNob3coMClcbiAgICAgICAgICAgIC5maW5kKCdzcGFuLicgKyBjdXJyZW50UGFsZXR0ZSlcbiAgICAgICAgICAgIC5yZW1vdmUoKTtcblxuICAgICAgICAvLyBjaGVjayBwYWxldHRlc1xuICAgICAgICBDb2xvci5wYWxldHRlQ2hlY2soKTtcbiAgICB9LFxuXG4gICAgaGFuZGxlUGFsZXR0ZVN3aXRjaDogZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBnZXQgY3VycmVudCBwYWxldHRlIGJhc2VkIG9uIHRhYiBjbGlja2VkXG4gICAgICAgIENvbG9yLmN1cnJlbnRQYWxldHRlID0gJChlLnRhcmdldCkuYXR0cignZGF0YS10YXJnZXQnKS5yZXBsYWNlKCcjJywnJyk7XG5cbiAgICAgICAgLy8gcnVuIHBhbGV0dGUgY2hlY2tcbiAgICAgICAgQ29sb3IucGFsZXR0ZUNoZWNrKCk7XG4gICAgfSxcblxuICAgIGhhbmRsZVN3YXRjaENsaWNrOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICBjb2xvciA9ICR0aGlzLmRhdGEoJ3N3YXRjaC1jb2xvcicpLFxuICAgICAgICAgICAgY3VycmVudFBhbGV0dGUgPSBDb2xvci5jdXJyZW50UGFsZXR0ZSxcbiAgICAgICAgICAgIHBhbGV0dGUgPSBDb2xvci5wYWxldHRlc1tjdXJyZW50UGFsZXR0ZV07XG5cbiAgICAgICAgLy8gaWYgY2xpY2tlZCBzd2F0Y2ggaXMgaW4gYSBjb2xvciBzZXQgKGFrYSwgYWRkaW5nKVxuICAgICAgICBpZiAoJChlLnRhcmdldCkucGFyZW50KCkuaGFzQ2xhc3MoJ3RhYi1wYW5lJykpIHtcblxuICAgICAgICAgICAgLy8gaWYgdGhlIGNvbG9yIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIGN1cnJlbnQgcGFsZXR0ZVxuICAgICAgICAgICAgLy8qKioqKioqKioqIFRPIERPOiBDSEVDSyBBR0FJTlNUIFRIRSBBUlJBWSBJTlNURUFEXG4gICAgICAgICAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdpbi0nICsgY3VycmVudFBhbGV0dGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gY29weSBzd2F0Y2ggdG8gcGFsZXR0ZVxuICAgICAgICAgICAgICAgICR0aGlzXG4gICAgICAgICAgICAgICAgICAgIC5jbG9uZSh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAuZW1wdHkoKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJy5wYWxldHRlcyAuYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3Mgbm90aW5nIHdoaWNoIHBhbGV0dGUgaXQncyBiZWVuIGFkZGVkIHRvXG4gICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2luLScgKyBjdXJyZW50UGFsZXR0ZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgdG8gc3dhdGNoZXMgYXJyYXkgZm9yIGN1cnJlbnQgcGFsZXR0ZVxuICAgICAgICAgICAgICAgIHBhbGV0dGUucHVzaChjb2xvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICQoJyMnICsgY3VycmVudFBhbGV0dGUgKyAnLmFjdGl2ZScpXG4gICAgICAgICAgICAgICAgLy8gICAgIC5maW5kKCcuc3dhdGNoOm5vdChbZGF0YS1zd2F0Y2gtY29sb3I9XCInICsgY29sb3IgKyAnXCJdKScpXG4gICAgICAgICAgICAgICAgLy8gICAgIC5jc3MoJ29wYWNpdHknLCAnMC41Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgY2xpY2tlZCBzd2F0Y2ggaXMgaW4gYSBwYWxldHRlIChha2EsIHJlbW92aW5nKVxuICAgICAgICB9IGVsc2UgaWYgKCQoZS50YXJnZXQpLnBhcmVudHMoKS5oYXNDbGFzcygncGFsZXR0ZXMnKSkge1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgaW4tcGFsZXR0ZSBjbGFzc1xuICAgICAgICAgICAgJCgnLnRhYi1wYW5lJylcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oJypbZGF0YS1zd2F0Y2gtY29sb3I9XCInICsgY29sb3IgKyAnXCJdJylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2luLScgKyBDb2xvci5jdXJyZW50UGFsZXR0ZSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHN3YXRjaGVzIGFycmF5IGZvciBjdXJyZW50IHBhbGV0dGVcbiAgICAgICAgICAgIHZhciBpID0gcGFsZXR0ZS5pbmRleE9mKGNvbG9yKTtcbiAgICAgICAgICAgIGlmIChpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgcGFsZXR0ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZW1vdmUgc3dhdGNoIGZyb20gcGFsZXR0ZVxuICAgICAgICAgICAgJHRoaXMucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gcGFsZXR0ZSBjaGVja1xuICAgICAgICBDb2xvci5wYWxldHRlQ2hlY2soKTtcbiAgICB9LFxuXG4gICAgcGFsZXR0ZUNoZWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYWxldHRlID0gQ29sb3IucGFsZXR0ZXNbQ29sb3IuY3VycmVudFBhbGV0dGVdLFxuICAgICAgICAgICAgJGFjdGl2ZVBhbGV0dGVUYWIgPSAkKCcucGFsZXR0ZS10YWJzIC5hY3RpdmUgYVtkYXRhLXRhcmdldD1cIiMnICsgQ29sb3IuY3VycmVudFBhbGV0dGUgKyAnXCJdJyksXG4gICAgICAgICAgICAkcGFsZXR0ZUNvbnRyb2xzQnV0dG9ucyA9ICQoJy5wYWxldHRlLWNvbnRyb2wgYnV0dG9uJyksXG4gICAgICAgICAgICAkYWRkU3dhdGNoZXNOb3RpZmljYXRpb24gPSAkKCcucGFsZXR0ZXMgcCcpO1xuXG4gICAgICAgIC8vIHBhbGV0dGUgaGFzIHN3YXRjaGVzXG4gICAgICAgIGlmIChjdXJyZW50UGFsZXR0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkYWN0aXZlUGFsZXR0ZVRhYi5hZGRDbGFzcygnaGFzLXN3YXRjaGVzJyk7XG4gICAgICAgICAgICAkcGFsZXR0ZUNvbnRyb2xzQnV0dG9ucy5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICRhZGRTd2F0Y2hlc05vdGlmaWNhdGlvbi5oaWRlKCk7XG5cbiAgICAgICAgLy8gaWYgcGFsZXR0ZSBpcyBlbXB0eVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWxldHRlLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0JGFjdGl2ZVBhbGV0dGVUYWIucmVtb3ZlQ2xhc3MoJ2hhcy1zd2F0Y2hlcycpO1xuXHRcdFx0JHBhbGV0dGVDb250cm9sc0J1dHRvbnMuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHQkYWRkU3dhdGNoZXNOb3RpZmljYXRpb24uc2hvdygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNsaXBib2FyZE5vdGlmaWNhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJy5jbGlwYm9hcmQtbm90aWZpY2F0aW9uJylcbiAgICAgICAgICAgIC5mYWRlSW4oKVxuICAgICAgICAgICAgLmRlbGF5KDIwMDApXG4gICAgICAgICAgICAuZmFkZU91dCgnc2xvdycpO1xuICAgIH0sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gc2FmYXJpIGRvZXNudCBzdXBwb3J0IGNsaXBib2FyZCBhY3Rpb24sIHNvIGRvbid0IHNob3cgdGhlIGJ1dHRvblxuICAgICAgICAvL2lmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1NhZmFyaScpICE9IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPT0gLTEpIHtcbiAgICAgICAgLy8gICAgJCgnLmNvcHktY3NzJykuaGlkZSgpO1xuICAgICAgICAvL31cblxuICAgICAgICAvLyB0ZXN0IGZvciB0b3VjaFxuICAgICAgICBpZiAoISgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NOYW1lICs9ICduby10b3VjaCc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZW5lcmF0ZSBjb2xvcnNcbiAgICAgICAgQ29sb3IuZ2VuZXJhdGVDb2xvcnMoQ29sb3IuY29sb3JzKTtcblxuICAgICAgICAvLyBjcmVhdGUgc3dhdGNoZXNcbiAgICAgICAgQ29sb3IuY3JlYXRlU3dhdGNoZXMoQ29sb3IuY29sb3JzKTtcblxuICAgICAgICAvLyBsaXN0ZW4gZm9yIHRhYiBzd2l0Y2hcbiAgICAgICAgJCgndWwuY29sb3Itc2V0cyBsaSBhW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykub24oJ3Nob3duLmJzLnRhYicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIC8vIHNjcm9sbCB0byB0b3BcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbGlzdGVuIGZvciBjbGljayBldmVudHNcbiAgICAgICAgJCgnLnN3YXRjaCcpLm9uKCdjbGljaycsIENvbG9yLmhhbmRsZVN3YXRjaENsaWNrKTtcbiAgICAgICAgJCgnLmNsZWFyLXBhbGV0dGUnKS5vbignY2xpY2snLCBDb2xvci5jbGVhclBhbGV0dGUpO1xuICAgICAgICAkKCcuYWRkLWNvbG9yLXNldCcpLm9uKCdjbGljaycsIENvbG9yLmFkZENvbG9yU2V0KTtcblxuICAgICAgICAvLyBsaXN0ZW4gZm9yIHBhbGV0dGUgc3dpdGNoaW5nXG4gICAgICAgICQoJy5wYWxldHRlLXRhYnMnKS5vbignY2xpY2snLCAnbGkgYTpub3QoLmFkZC1wYWxldHRlKScsIENvbG9yLmhhbmRsZVBhbGV0dGVTd2l0Y2gpO1xuXG4gICAgICAgIC8vIGFib3V0IHBhbmVsXG4gICAgICAgICQoJ2gxJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuYWJvdXQtb3ZlcmxheScpLmZhZGVJbigpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYWJvdXQtb3ZlcmxheScpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5mYWRlT3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGZhc3QgYnV0dG9uIGFjdGlvblxuICAgICAgICAkKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgRmFzdENsaWNrLmF0dGFjaChkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBmaXJzdCBwYWxldHRlIGFzIHNvcnRhYmxlXG4gICAgICAgICQoJy5wYWxldHRlcyA+IGRpdicpLnNvcnRhYmxlKHtcbiAgICAgICAgICAgIGNvbnRhaW5tZW50OiAnLnBhbGV0dGVzJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgIHRvbGVyYW5jZTogJ3BvaW50ZXInXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGluc3RhbnRpYXRlIGNsaXBib2FyZCBhY3Rpb25cbiAgICAgICAgLy9uZXcgQ2xpcGJvYXJkKCcuY29weS1jc3MnKTtcbiAgICB9XG59O1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsgQ29sb3IuaW5pdGlhbGl6ZSgpOyB9KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
